{"ast":null,"code":"var _jsxFileName = \"/Users/Adam/Documents/physics-site/src/components/header/Header.js\";\nimport React, { useEffect } from 'react';\nimport { handleClientLoad, handleAuthClick, handleSignoutClick } from '../../util/gapi';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport { Button } from 'antd';\nimport \"./Header.css\";\nimport { useRecoilState } from 'recoil';\nimport { applicationState } from '../../store/atoms';\nexport default function Header() {\n  const [{\n    user\n  }, setAppState] = useRecoilState(applicationState);\n\n  function authenticationCallback(user) {\n    // Logged out\n    if (!user) {\n      setAppState(oldAppState => {\n        return { ...oldAppState,\n          user: null\n        };\n      });\n    } else {\n      // Logged in\n      setAppState(oldAppState => {\n        let basicProfile = user.getBasicProfile();\n        return { ...oldAppState,\n          user: {\n            firstName: basicProfile.getGivenName(),\n            lastName: basicProfile.getFamilyName(),\n            email: basicProfile.getEmail(),\n            image: basicProfile.getImageUrl()\n          }\n        };\n      });\n    }\n  } // Triggers google to initialize the client\n\n\n  useEffect(() => {\n    // Check if api is already loaded\n    if (window.gapi) {\n      handleClientLoad(authenticationCallback);\n    } else {\n      // Not already loaded; create event listener\n      console.log(\"creating event listener for google-loaded\");\n      window.addEventListener(\"google-loaded\", () => handleClientLoad(authenticationCallback));\n    }\n  }, []);\n\n  function handleClearClick() {\n    localStorage.clear();\n    window.location.reload(false);\n  }\n\n  return /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"light\",\n    expand: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 36\n    }\n  }, \"Match\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      display: \"inline\",\n      color: \"gray\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 49\n    }\n  }, \"by RiceApps\")), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"basic-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    id: \"basic-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/privacy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"Privacy\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/help\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Help\")), /*#__PURE__*/React.createElement(Navbar.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, user ? \"Signed in as: \" + user.firstName : \"\"), \" \\xA0\", /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClearClick,\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Refresh\"), \" \\xA0\", user ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"AuthenticationSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSignoutClick,\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 26\n    }\n  }, \"Sign Out\"), \" \\xA0\") : /*#__PURE__*/React.createElement(Button, {\n    onClick: handleAuthClick,\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Sign In\")));\n}","map":{"version":3,"sources":["/Users/Adam/Documents/physics-site/src/components/header/Header.js"],"names":["React","useEffect","handleClientLoad","handleAuthClick","handleSignoutClick","Navbar","Nav","Button","useRecoilState","applicationState","Header","user","setAppState","authenticationCallback","oldAppState","basicProfile","getBasicProfile","firstName","getGivenName","lastName","getFamilyName","email","getEmail","image","getImageUrl","window","gapi","console","log","addEventListener","handleClearClick","localStorage","clear","location","reload","display","color"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { handleClientLoad, handleAuthClick, handleSignoutClick } from '../../util/gapi';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport { Button } from 'antd';\nimport \"./Header.css\"\n\nimport { useRecoilState } from 'recoil';\nimport { applicationState } from '../../store/atoms';\n\nexport default function Header() {\n    const [{ user }, setAppState] = useRecoilState(applicationState);\n\n    function authenticationCallback(user) {\n        // Logged out\n        if (!user) {\n            setAppState(oldAppState => {\n                return {\n                    ...oldAppState,\n                    user: null,\n                }\n            })\n        } else {\n            // Logged in\n            setAppState(oldAppState => {\n                let basicProfile = user.getBasicProfile();\n                return {\n                    ...oldAppState,\n                    user: {\n                        firstName: basicProfile.getGivenName(),\n                        lastName: basicProfile.getFamilyName(),\n                        email: basicProfile.getEmail(),\n                        image: basicProfile.getImageUrl(),\n                    },\n                }\n            })\n        }\n    }\n\n    // Triggers google to initialize the client\n    useEffect(() => {\n        // Check if api is already loaded\n        if (window.gapi) {\n            handleClientLoad(authenticationCallback);\n        } else { \n            // Not already loaded; create event listener\n            console.log(\"creating event listener for google-loaded\")\n            window.addEventListener(\"google-loaded\", () => handleClientLoad(authenticationCallback));\n        }\n    }, []);\n\n    function handleClearClick() {\n        localStorage.clear();\n        window.location.reload(false);\n    }\n\n    return (\n        <Navbar bg=\"light\" expand=\"lg\">\n            <Navbar.Brand href=\"/\"><b>Match</b> <p style={{display: \"inline\", color: \"gray\"}}>by RiceApps</p></Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                    <Nav.Link href=\"/\">Home</Nav.Link>\n                    <Nav.Link href=\"/privacy\">Privacy</Nav.Link>\n                    <Nav.Link href=\"/help\">Help</Nav.Link>\n                </Nav>\n\n                <Navbar.Text>\n                    {user ? \"Signed in as: \" + user.firstName : \"\"}\n                </Navbar.Text> &nbsp;\n                <Button onClick={handleClearClick} size='small'>Refresh</Button> &nbsp;\n                {user ?\n                    <div className=\"AuthenticationSection\">\n                         <Button onClick={handleSignoutClick} size='small'>Sign Out</Button> &nbsp;\n                    </div> :\n                    <Button onClick={handleAuthClick} size='small'>Sign In</Button>}\n            </Navbar.Collapse>\n        </Navbar>        \n    );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}