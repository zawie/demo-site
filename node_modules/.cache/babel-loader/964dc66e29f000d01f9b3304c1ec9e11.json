{"ast":null,"code":"var _jsxFileName = \"/Users/Adam/Documents/physics-site/src/pages/Assigner.js\";\nimport React, { useState } from 'react';\nimport Loader from '../components/loader/CSVFileLoader';\nimport { makeAssignments, getUnmatchedStudents } from '../util/ccd/assignerLogic';\nimport { getStudentsAndExternships } from '../util/ccd/externshipParser';\nimport { exportCSV } from '../util/ccd/csvWriter';\nimport { CSVLink } from 'react-csv';\nimport CSVFileUploader from '../components/loader/CSVFileLoader';\nexport default function Assigner() {\n  const [csvData, setCsvData] = useState([]);\n\n  function handleData(fileData) {\n    if (fileData && fileData.data) {\n      // Handle the data uploaded by the user\n      let data = getStudentsAndExternships(fileData);\n      let students = data.students;\n      let externships = data.externships; //Sort externships based on priority\n\n      externships.sort((a, b) => a.getPriority() - b.getPriority()); //Match students\n\n      let assignments = makeAssignments(externships);\n      let unmatchedStudents = getUnmatchedStudents(students); // Statistic Calls\n      // console.log(\"Matched Student Count:\", getMatchedStudents(students).length);\n      // console.log(\"Unmatched Student Count:\", unmatchedStudents.length);\n      // console.log(\"Average Matched Rank:\", getAverageMatchedRank(students));\n\n      setCsvData(exportCSV(assignments, unmatchedStudents));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CSVFileUploader, {\n    onUpload: handleData,\n    allowManualSort: true,\n    allowCSV: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CSVLink, {\n    data: csvData,\n    filename: \"ListOfMatches.csv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Download CSV\"))));\n}","map":{"version":3,"sources":["/Users/Adam/Documents/physics-site/src/pages/Assigner.js"],"names":["React","useState","Loader","makeAssignments","getUnmatchedStudents","getStudentsAndExternships","exportCSV","CSVLink","CSVFileUploader","Assigner","csvData","setCsvData","handleData","fileData","data","students","externships","sort","a","b","getPriority","assignments","unmatchedStudents"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,SAASC,eAAT,EAA0BC,oBAA1B,QAAsD,2BAAtD;AACA,SAASC,yBAAT,QAA0C,8BAA1C;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AAEA,eAAe,SAASC,QAAT,GAAoB;AACjC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;;AAEA,WAASW,UAAT,CAAoBC,QAApB,EAA8B;AAC5B,QAAIA,QAAQ,IAAIA,QAAQ,CAACC,IAAzB,EAA8B;AAC5B;AACA,UAAIA,IAAI,GAAGT,yBAAyB,CAACQ,QAAD,CAApC;AACA,UAAIE,QAAQ,GAAGD,IAAI,CAACC,QAApB;AACA,UAAIC,WAAW,GAAGF,IAAI,CAACE,WAAvB,CAJ4B,CAM5B;;AACAA,MAAAA,WAAW,CAACC,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,WAAF,KAAkBD,CAAC,CAACC,WAAF,EAA7C,EAP4B,CAS5B;;AACA,UAAIC,WAAW,GAAGlB,eAAe,CAACa,WAAD,CAAjC;AACA,UAAIM,iBAAiB,GAAGlB,oBAAoB,CAACW,QAAD,CAA5C,CAX4B,CAa5B;AACA;AACA;AACA;;AAEAJ,MAAAA,UAAU,CACRL,SAAS,CAACe,WAAD,EAAcC,iBAAd,CADD,CAAV;AAGD;AACF;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AACE,IAAA,QAAQ,EAAEV,UADZ;AAEE,IAAA,eAAe,EAAE,IAFnB;AAGE,IAAA,QAAQ,EAAE,IAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAOE,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAEF,OAAf;AAAwB,IAAA,QAAQ,EAAE,mBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,CADF,CADF,CADF;AAeD","sourcesContent":["import React, { useState } from 'react';\nimport Loader from '../components/loader/CSVFileLoader';\nimport { makeAssignments, getUnmatchedStudents } from '../util/ccd/assignerLogic'\nimport { getStudentsAndExternships } from '../util/ccd/externshipParser'\nimport { exportCSV } from '../util/ccd/csvWriter'\nimport { CSVLink } from 'react-csv';\nimport CSVFileUploader from '../components/loader/CSVFileLoader';\n\nexport default function Assigner() {\n  const [csvData, setCsvData] = useState([]);\n\n  function handleData(fileData) {\n    if (fileData && fileData.data){\n      // Handle the data uploaded by the user\n      let data = getStudentsAndExternships(fileData);\n      let students = data.students;\n      let externships = data.externships;\n\n      //Sort externships based on priority\n      externships.sort((a, b) => a.getPriority() - b.getPriority());\n\n      //Match students\n      let assignments = makeAssignments(externships);\n      let unmatchedStudents = getUnmatchedStudents(students);\n\n      // Statistic Calls\n      // console.log(\"Matched Student Count:\", getMatchedStudents(students).length);\n      // console.log(\"Unmatched Student Count:\", unmatchedStudents.length);\n      // console.log(\"Average Matched Rank:\", getAverageMatchedRank(students));\n\n      setCsvData(\n        exportCSV(assignments, unmatchedStudents)\n      );\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"Main\">\n        <div className=\"Body\">\n          <CSVFileUploader\n            onUpload={handleData}\n            allowManualSort={true}\n            allowCSV={true}\n          />\n          {/* CSV Downloader */}\n          <CSVLink data={csvData} filename={\"ListOfMatches.csv\"} >Download CSV</CSVLink>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}